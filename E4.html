<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LMS Theme Switcher</title>
<style>
  :root {
    --bg: #fff; --text: #000; --sidebar: #f0f0f0;
    --transition: 0.3s;
  }
  [data-theme="dark"] {
    --bg: #1e1e1e; --text: #eee; --sidebar: #2a2a2a;
  }
  [data-theme="sepia"] {
    --bg: #f4ecd8; --text: #3b2f2b; --sidebar: #e0d6c2;
  }
  body {
    margin: 0; display: flex; height: 100vh;
    background: var(--bg); color: var(--text);
    font-family: sans-serif;
    transition: background var(--transition), color var(--transition);
  }
  .sidebar {
    width: 220px; padding: 15px;
    background: var(--sidebar);
    transition: background var(--transition);
  }
  .sidebar h3, .sidebar h4 { margin: 10px 0; }
  .sidebar ul { list-style: none; padding: 0; }
  .sidebar li { padding: 5px 0; cursor: pointer; }
  .sidebar li:hover { text-decoration: underline; }
  .content { flex: 1; padding: 20px; overflow-y: auto; }
  button { margin: 5px 2px; padding: 6px 12px; cursor: pointer; border: 1px solid #aaa; transition: all 0.2s; }
  button.active { background: #007bff; color: #fff; border-color: #0056b3; }
</style>
</head>
<body>
<div class="sidebar">
  <h3>Courses</h3>
  <ul>
    <li onclick="loadCourse('HTML Basics')">HTML Basics</li>
    <li onclick="loadCourse('CSS Essentials')">CSS Essentials</li>
    <li onclick="loadCourse('JavaScript Intro')">JavaScript Intro</li>
  </ul>
  <h4>Themes</h4>
  <button data-theme="light">Light</button>
  <button data-theme="dark">Dark</button>
  <button data-theme="sepia">Sepia</button>
  <button data-theme="system">System</button>
</div>
<div class="content">
  <h1>Welcome to the LMS</h1>
  <p>Select a course from the sidebar to start learning.</p>
</div>
<script>
const key = "lms-theme";
const buttons = document.querySelectorAll(".sidebar button");
const content = document.querySelector(".content");

function applyTheme(theme, save = true) {
  if (theme === "system") {
    localStorage.removeItem(key);
    setSystemTheme();
  } else {
    document.documentElement.setAttribute("data-theme", theme);
    if (save) localStorage.setItem(key, theme);
  }
  buttons.forEach(b => b.classList.toggle("active", b.dataset.theme === theme));
}

function setSystemTheme() {
  const darkQuery = window.matchMedia("(prefers-color-scheme: dark)");
  function update() {
    if (darkQuery.matches) document.documentElement.setAttribute("data-theme", "dark");
    else document.documentElement.removeAttribute("data-theme");
  }
  darkQuery.addEventListener("change", update);
  update();
}

buttons.forEach(b => b.onclick = () => applyTheme(b.dataset.theme));
applyTheme(localStorage.getItem(key) || "system", false);

function loadCourse(name) {
  content.innerHTML = `<h1>${name}</h1><p>Welcome to the ${name} course. Here you will learn all essential concepts.</p>`;
}
</script>
</body>
</html>
